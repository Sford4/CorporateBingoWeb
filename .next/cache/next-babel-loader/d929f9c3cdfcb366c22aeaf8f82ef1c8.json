{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/spencerford/Documents/DEVyall/PersonalProjects/CorporateBingoWeb/components/ManageBoard/BoardBuilder/SquareBuilder.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from 'react'; // Style imports\n\nimport { MASTER, COLORS } from '../../../styles/masterStyles'; // Context imports\n\nimport { ManageBoardsContext } from '../../../contexts/manageBoardsContext'; // Component Imports\n\nimport BuildQRCodeTask from './BuildSquareComponents/BuildQRCodeTask';\nimport BuildCodeTask from './BuildSquareComponents/BuildCodeTask';\nimport TaskHints from './BuildSquareComponents/TaskHints'; // Material UI\n\nimport Switch from '@material-ui/core/Switch';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nvar SquareBuilder = function SquareBuilder(props) {\n  var generateTaskMethod = function generateTaskMethod(taskType) {\n    switch (taskType) {\n      case 'click':\n        return null;\n\n      case 'code':\n        return __jsx(BuildCodeTask, {\n          task: props.task,\n          updateTask: updateTask,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        });\n\n      case 'text':\n        return __jsx(\"div\", {\n          className: \"text-builder\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        });\n\n      case 'picture':\n        return __jsx(\"div\", {\n          className: \"picture-builder\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, __jsx(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }));\n\n      case 'qrCode':\n        return __jsx(BuildQRCodeTask, {\n          task: task,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        });\n      // case 'proximity':\n      //   return <div>proximity</div>;\n\n      default:\n        return null;\n    }\n  };\n\n  var _useContext = useContext(ManageBoardsContext),\n      contextBoard = _useContext.contextBoard,\n      updateBoard = _useContext.updateBoard,\n      setStuffToSave = _useContext.setStuffToSave;\n\n  var _useState = useState(props.task),\n      task = _useState[0],\n      setTask = _useState[1];\n\n  useEffect(function () {\n    if (!contextBoard._id) {\n      setTask(props.task);\n    } else {\n      setTask(contextBoard.squares.filter(function (task) {\n        return task._id === props.task._id;\n      })[0]);\n    }\n  }, [contextBoard]);\n\n  var updateTask = function updateTask(field, val) {\n    var board = contextBoard;\n    updateBoard(_objectSpread({}, board, {\n      squares: board.squares.map(function (oldTask) {\n        if (oldTask._id === props.task._id) {\n          if (field === 'task') {\n            return _objectSpread({}, oldTask, {\n              task: {\n                taskType: val,\n                answer: ''\n              }\n            });\n          }\n\n          if (field === 'codes') {\n            return _objectSpread({}, oldTask, {\n              codes: {\n                codeList: val.codeList,\n                useOnce: val.useOnce\n              }\n            });\n          }\n\n          if (field === 'freeSquare') {\n            // if a square is a free square, we set it to complete: true, if not, complete false\n            return _objectSpread({}, oldTask, {\n              freeSquare: val,\n              complete: val\n            });\n          }\n\n          return _objectSpread({}, oldTask, _defineProperty({}, field, val));\n        }\n\n        return oldTask;\n      })\n    }));\n    setStuffToSave(true);\n  };\n\n  var done = function done() {\n    props.openPopup(false);\n  };\n\n  return __jsx(\"div\", {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, __jsx(Switch, {\n    onChange: function onChange() {\n      return updateTask('freeSquare', !task.freeSquare);\n    },\n    value: task.freeSquare,\n    checked: task.freeSquare,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), __jsx(\"span\", {\n    style: _objectSpread({}, styles.inputLabel, {\n      marginLeft: 5\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"This is a free square\")), !task.freeSquare && __jsx(\"div\", {\n    style: styles.taskSettingsContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, __jsx(\"span\", {\n    style: styles.inputLabel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Title (will also appear on the square)\"), __jsx(\"input\", {\n    style: _objectSpread({}, MASTER.wideRoundInput, {\n      marginTop: 2\n    }),\n    value: task.squareText,\n    onChange: function onChange(e) {\n      updateTask('squareText', e.target.value);\n      setTask(_objectSpread({}, task, {\n        squareText: e.target.value\n      }));\n    },\n    placeholder: 'e.g. Two sales in one hour',\n    maxLength: \"90\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), __jsx(\"span\", {\n    style: styles.inputLabel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"Description\"), __jsx(\"textarea\", {\n    autoFocus: true,\n    style: MASTER.wideRoundTextArea,\n    onChange: function onChange(e) {\n      updateTask('description', e.target.value);\n      setTask(_objectSpread({}, task, {\n        description: e.target.value\n      }));\n    },\n    value: task.description,\n    placeholder: 'e.g. Make two sales in one hour and enter their ids below!',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }), __jsx(\"span\", {\n    style: _objectSpread({}, styles.inputLabel, {\n      marginRight: 10,\n      marginLeft: 5\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"Hints:\"), __jsx(TaskHints, {\n    updateTask: updateTask,\n    hints: task.hints,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }), __jsx(\"span\", {\n    style: _objectSpread({}, styles.inputLabel, {\n      marginRight: 10,\n      marginLeft: 5\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, \"Task to complete:\"), __jsx(Select, {\n    displayEmpty: false,\n    value: task.task.taskType,\n    onChange: function onChange(e) {\n      return updateTask('task', e.target.value);\n    },\n    inputProps: {\n      name: 'num squares',\n      id: 'num-squares-select'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, __jsx(MenuItem, {\n    value: \"click\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"Flip a switch\"), __jsx(MenuItem, {\n    value: \"code\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, \"Enter a code\"), __jsx(MenuItem, {\n    value: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \"Enter some text\"), __jsx(MenuItem, {\n    value: \"picture\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, \"Upload a picture\"), __jsx(MenuItem, {\n    value: \"qrCode\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Scan a QR Code\")), __jsx(\"div\", {\n    style: {\n      marginTop: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, generateTaskMethod(task.task.taskType)), __jsx(\"button\", {\n    style: _objectSpread({}, MASTER.wideRoundBtn, {\n      marginTop: 20\n    }),\n    onClick: function onClick() {\n      return done();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, __jsx(\"span\", {\n    style: MASTER.wideRoundBtnText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, \"Done\"))));\n};\n\nvar styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    padding: 30,\n    paddingTop: 0,\n    width: '30vw',\n    minWidth: 300\n  },\n  taskSettingsContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    width: '100%'\n  },\n  completedContainer: {\n    position: 'absolute',\n    left: '50%',\n    top: '20%',\n    zIndex: 115\n  },\n  completedText: {\n    color: COLORS.green,\n    position: 'relative',\n    left: '-50%',\n    top: '-50%',\n    fontSize: 45,\n    transform: 'rotateZ(345deg)'\n  },\n  inputLabel: {\n    marginTop: 15,\n    color: COLORS.primary,\n    fontSize: 17\n  }\n};\nexport default SquareBuilder;","map":{"version":3,"sources":["/Users/spencerford/Documents/DEVyall/PersonalProjects/CorporateBingoWeb/components/ManageBoard/BoardBuilder/SquareBuilder.js"],"names":["React","useState","useEffect","useContext","MASTER","COLORS","ManageBoardsContext","BuildQRCodeTask","BuildCodeTask","TaskHints","Switch","Select","MenuItem","SquareBuilder","props","generateTaskMethod","taskType","task","updateTask","contextBoard","updateBoard","setStuffToSave","setTask","_id","squares","filter","field","val","board","map","oldTask","answer","codes","codeList","useOnce","freeSquare","complete","done","openPopup","styles","container","inputLabel","marginLeft","taskSettingsContainer","wideRoundInput","marginTop","squareText","e","target","value","wideRoundTextArea","description","marginRight","hints","name","id","wideRoundBtn","wideRoundBtnText","display","flexDirection","backgroundColor","alignItems","padding","paddingTop","width","minWidth","completedContainer","position","left","top","zIndex","completedText","color","green","fontSize","transform","primary"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\n\n// Style imports\nimport { MASTER, COLORS } from '../../../styles/masterStyles';\n\n// Context imports\nimport { ManageBoardsContext } from '../../../contexts/manageBoardsContext';\n\n// Component Imports\nimport BuildQRCodeTask from './BuildSquareComponents/BuildQRCodeTask';\nimport BuildCodeTask from './BuildSquareComponents/BuildCodeTask';\nimport TaskHints from './BuildSquareComponents/TaskHints';\n\n// Material UI\nimport Switch from '@material-ui/core/Switch';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\n\nconst SquareBuilder = (props) => {\n\n    const generateTaskMethod = taskType => {\n        switch (taskType) {\n            case 'click':\n                return null;\n            case 'code':\n                return (\n                    <BuildCodeTask task={props.task} updateTask={updateTask} />\n                );\n            case 'text':\n                return (\n                    <div className='text-builder'>\n                        \n                    </div>\n                );\n            case 'picture':\n                return (\n                    <div className='picture-builder'>\n                        <span></span>\n                    </div>\n                );\n            case 'qrCode':\n                return (\n                    <BuildQRCodeTask task={task} />\n                );\n            // case 'proximity':\n            //   return <div>proximity</div>;\n            default:\n                return null;\n        }\n    }\n\n  const { contextBoard, updateBoard, setStuffToSave } = useContext(ManageBoardsContext);\n\n  const [task, setTask] = useState(props.task);\n\n  useEffect(() => {\n    if(!contextBoard._id){\n        setTask(props.task);\n    } else {\n        setTask(contextBoard.squares.filter(task => task._id === props.task._id)[0]);\n    }\n  }, [contextBoard])\n\n  const updateTask = (field, val) => {\n    const board = contextBoard;\n    updateBoard({\n        ...board,\n        squares: board.squares.map(oldTask => {\n            if(oldTask._id === props.task._id){\n                if(field === 'task'){\n                    return {\n                        ...oldTask,\n                        task: {\n                            taskType: val,\n                            answer: '',\n                        }\n                    }\n                }\n                if(field === 'codes'){\n                    return {\n                        ...oldTask,\n                        codes: { \n                            codeList: val.codeList,\n                            useOnce: val.useOnce,\n                         }\n                    }\n                }\n                if(field === 'freeSquare'){\n                    // if a square is a free square, we set it to complete: true, if not, complete false\n                        return {\n                            ...oldTask,\n                            freeSquare: val,\n                            complete: val,\n                        }\n                }\n                return {\n                    ...oldTask,\n                    [field]: val\n                }\n            }\n            return oldTask;\n        })\n    });\n    setStuffToSave(true);\n}\n\n  const done = () => {\n    props.openPopup(false);\n  }\n\n  return (\n    <div style={styles.container}>\n        <div>\n            <Switch\n                onChange = {() => updateTask('freeSquare', !task.freeSquare)}\n                value = {task.freeSquare}\n                checked={task.freeSquare}\n            />\n            <span style={{ ...styles.inputLabel,  marginLeft: 5}}>This is a free square</span>\n        </div>\n        {!task.freeSquare && \n        (\n            <div style={styles.taskSettingsContainer}>\n                <span style={styles.inputLabel}>Title (will also appear on the square)</span>\n                <input \n                    style={{ ...MASTER.wideRoundInput, marginTop: 2 }} \n                    value={task.squareText} \n                    onChange={e => {\n                        updateTask('squareText', e.target.value);\n                        setTask({...task, squareText: e.target.value});\n                    }} \n                    placeholder={'e.g. Two sales in one hour'}\n                    maxLength=\"90\"\n                />\n                <span style={styles.inputLabel}>Description</span>\n                <textarea\n                    autoFocus\n                    style={MASTER.wideRoundTextArea}\n                    onChange={(e) => {\n                        updateTask('description', e.target.value);\n                        setTask({...task, description: e.target.value});\n                    }}\n                    value={task.description} \n                    placeholder={'e.g. Make two sales in one hour and enter their ids below!'}\n                />\n                <span style={{ ...styles.inputLabel, marginRight: 10, marginLeft: 5}}>Hints:</span>\n                <TaskHints updateTask={updateTask} hints={task.hints} />\n                <span style={{ ...styles.inputLabel, marginRight: 10, marginLeft: 5}}>Task to complete:</span>\n                <Select\n                    displayEmpty={false}\n                    value={task.task.taskType}\n                    onChange={(e) => updateTask('task', e.target.value)}\n                    inputProps={{\n                        name: 'num squares',\n                        id: 'num-squares-select',\n                    }}\n                >\n                    <MenuItem value=\"click\">Flip a switch</MenuItem>\n                    <MenuItem value=\"code\">Enter a code</MenuItem>\n                    <MenuItem value=\"text\">Enter some text</MenuItem>\n                    <MenuItem value=\"picture\">Upload a picture</MenuItem>\n                    <MenuItem value=\"qrCode\">Scan a QR Code</MenuItem>\n                </Select>\n                <div style={{ marginTop: 20 }}>\n                    {generateTaskMethod(task.task.taskType)}\n                </div>\n                <button \n                    style={{ ...MASTER.wideRoundBtn, marginTop: 20 }} \n                    onClick={() => done()}\n                >\n                    <span style={MASTER.wideRoundBtnText}>Done</span>\n                </button>\n            </div>\n        )}\n    </div>\n  );\n}\n  \nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    padding: 30,\n    paddingTop: 0,\n    width: '30vw',\n    minWidth: 300,\n  },\n  taskSettingsContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    width: '100%',\n  },\n  completedContainer: { \n    position: 'absolute', \n    left: '50%', \n    top: '20%',\n    zIndex: 115,\n  },\n  completedText: { \n    color: COLORS.green, \n    position: 'relative', \n    left: '-50%', \n    top: '-50%', \n    fontSize: 45, \n    transform: 'rotateZ(345deg)',\n  },\n  inputLabel: {\n    marginTop: 15,\n    color: COLORS.primary,\n    fontSize: 17,\n  },\n};\n\nexport default SquareBuilder;"]},"metadata":{},"sourceType":"module"}