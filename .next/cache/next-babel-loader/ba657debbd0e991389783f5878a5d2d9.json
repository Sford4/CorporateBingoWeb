{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar _jsxFileName = \"/Users/spencerford/Documents/DEVyall/PersonalProjects/CorporateBingoWeb/contexts/userContext.js\";\nvar __jsx = React.createElement;\nimport React, { createContext, useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nexport const UserContext = createContext();\n\nconst UserContextProvider = props => {\n  const {\n    0: user,\n    1: setUser\n  } = useState({});\n  const router = useRouter();\n\n  const storeUserAndToken = user => {\n    if (!user.token && !localStorage.getItem('bingo_token')) {\n      alert('Something went wrong logging you in, please try again!');\n      return;\n    }\n\n    if (localStorage) {\n      if (user.token) {\n        localStorage.setItem('bingo_token', user.token);\n      }\n\n      localStorage.setItem('bingo_user', _JSON$stringify({\n        userName: user.userName,\n        email: user.email,\n        role: user.role,\n        _id: user._id\n      }));\n      setUser({\n        userName: user.userName,\n        email: user.email,\n        role: user.role,\n        _id: user._id\n      });\n    } else {\n      alert('Something went wrong logging you in, please try again!');\n      return;\n    }\n  };\n\n  const logout = () => {\n    localStorage.clear();\n    setUser({});\n    router.push('/login');\n  };\n\n  return __jsx(UserContext.Provider, {\n    value: {\n      user,\n      updateBoard: setUser,\n      storeUser: storeUserAndToken,\n      logout: logout\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, props.children);\n};\n\nexport default UserContextProvider;","map":{"version":3,"sources":["/Users/spencerford/Documents/DEVyall/PersonalProjects/CorporateBingoWeb/contexts/userContext.js"],"names":["React","createContext","useState","useEffect","useRouter","UserContext","UserContextProvider","props","user","setUser","router","storeUserAndToken","token","localStorage","getItem","alert","setItem","userName","email","role","_id","logout","clear","push","updateBoard","storeUser","children"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,QAA/B,EAAyCC,SAAzC,QAA0D,OAA1D;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,OAAO,MAAMC,WAAW,GAAGJ,aAAa,EAAjC;;AAEP,MAAMK,mBAAmB,GAAIC,KAAD,IAAW;AAEnC,QAAM;AAAA,OAAEC,IAAF;AAAA,OAAQC;AAAR,MAAoBP,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAMQ,MAAM,GAAGN,SAAS,EAAxB;;AAEA,QAAMO,iBAAiB,GAAGH,IAAI,IAAI;AAC9B,QAAG,CAACA,IAAI,CAACI,KAAN,IAAe,CAACC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAnB,EAAuD;AACnDC,MAAAA,KAAK,CAAC,wDAAD,CAAL;AACA;AACH;;AACD,QAAGF,YAAH,EAAgB;AACZ,UAAGL,IAAI,CAACI,KAAR,EAAc;AACVC,QAAAA,YAAY,CAACG,OAAb,CAAqB,aAArB,EAAoCR,IAAI,CAACI,KAAzC;AACH;;AACDC,MAAAA,YAAY,CAACG,OAAb,CAAqB,YAArB,EAAmC,gBAAe;AAC9CC,QAAAA,QAAQ,EAAET,IAAI,CAACS,QAD+B;AAE9CC,QAAAA,KAAK,EAAEV,IAAI,CAACU,KAFkC;AAG9CC,QAAAA,IAAI,EAAEX,IAAI,CAACW,IAHmC;AAI9CC,QAAAA,GAAG,EAAEZ,IAAI,CAACY;AAJoC,OAAf,CAAnC;AAMAX,MAAAA,OAAO,CAAC;AACJQ,QAAAA,QAAQ,EAAET,IAAI,CAACS,QADX;AAEJC,QAAAA,KAAK,EAAEV,IAAI,CAACU,KAFR;AAGJC,QAAAA,IAAI,EAAEX,IAAI,CAACW,IAHP;AAIJC,QAAAA,GAAG,EAAEZ,IAAI,CAACY;AAJN,OAAD,CAAP;AAMH,KAhBD,MAgBO;AACHL,MAAAA,KAAK,CAAC,wDAAD,CAAL;AACA;AACH;AACJ,GAzBD;;AA2BA,QAAMM,MAAM,GAAG,MAAM;AACjBR,IAAAA,YAAY,CAACS,KAAb;AACAb,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAC,IAAAA,MAAM,CAACa,IAAP,CAAY,QAAZ;AACH,GAJD;;AAOA,SACI,MAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEf,MAAAA,IAAF;AAAQgB,MAAAA,WAAW,EAAEf,OAArB;AAA8BgB,MAAAA,SAAS,EAAEd,iBAAzC;AAA4DU,MAAAA,MAAM,EAAEA;AAApE,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKd,KAAK,CAACmB,QADX,CADJ;AAKH,CA7CD;;AA+CA,eAAepB,mBAAf","sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport { useRouter } from 'next/router'\n\nexport const UserContext = createContext();\n\nconst UserContextProvider = (props) => {\n\n    const [ user, setUser ] = useState({});\n      \n    const router = useRouter();\n\n    const storeUserAndToken = user => {\n        if(!user.token && !localStorage.getItem('bingo_token')){\n            alert('Something went wrong logging you in, please try again!');\n            return;\n        }\n        if(localStorage){\n            if(user.token){\n                localStorage.setItem('bingo_token', user.token);\n            }\n            localStorage.setItem('bingo_user', JSON.stringify({\n                userName: user.userName,\n                email: user.email,\n                role: user.role,\n                _id: user._id,\n            }));\n            setUser({\n                userName: user.userName,\n                email: user.email,\n                role: user.role,\n                _id: user._id,\n            })\n        } else {\n            alert('Something went wrong logging you in, please try again!');\n            return;\n        }\n    }\n\n    const logout = () => {\n        localStorage.clear();\n        setUser({});\n        router.push('/login');\n    }\n\n\n    return (\n        <UserContext.Provider value={{ user, updateBoard: setUser, storeUser: storeUserAndToken, logout: logout }}>\n            {props.children}\n        </UserContext.Provider>\n    )\n}\n\nexport default UserContextProvider;"]},"metadata":{},"sourceType":"module"}