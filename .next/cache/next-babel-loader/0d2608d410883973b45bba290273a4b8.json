{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/spencerford/Documents/DEVyall/PersonalProjects/CorporateBingoWeb/pages/joinGame.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useRouter } from 'next/router'; // Style imports\n\nimport { MASTER, COLORS } from '../styles/masterStyles'; // component imports\n\nimport Link from 'next/link';\nimport Layout from '../components/Layout'; // material ui\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Paper from '@material-ui/core/Paper'; // context imports\n\nimport { JoinGameContext } from '../contexts/joinGameContext';\nimport { UserContext } from '../contexts/userContext';\nimport { PlayContext } from '../contexts/playContext';\n\nvar materialStyles = function materialStyles(theme) {\n  return {\n    root: {\n      margin: 0,\n      padding: theme.spacing(2),\n      fontSize: 32,\n      color: COLORS.primary\n    },\n    closeButton: {\n      position: 'absolute',\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500]\n    }\n  };\n};\n\nvar DialogTitle = withStyles(materialStyles)(function (props) {\n  var children = props.children,\n      classes = props.classes,\n      onClose = props.onClose;\n  return __jsx(MuiDialogTitle, {\n    disableTypography: true,\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, __jsx(Typography, {\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, children), __jsx(IconButton, {\n    \"aria-label\": \"close\",\n    className: classes.closeButton,\n    onClick: onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, __jsx(CloseIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })));\n});\n\nvar BoardFind = function BoardFind(props) {\n  var router = useRouter();\n\n  var _useState = useState(''),\n      findCode = _useState[0],\n      setFindCode = _useState[1];\n\n  var _useState2 = useState(false),\n      accessBoardsFound = _useState2[0],\n      setAccessBoardsFound = _useState2[1];\n\n  var _useState3 = useState(false),\n      foundBoardsPopup = _useState3[0],\n      openFoundBoardsPopup = _useState3[1];\n\n  var _useState4 = useState([]),\n      pastFoundBoards = _useState4[0],\n      setPastFoundBoards = _useState4[1];\n\n  var _useContext = useContext(JoinGameContext),\n      accessBoards = _useContext.accessBoards,\n      getAccessBoards = _useContext.getAccessBoards,\n      foundBoards = _useContext.foundBoards,\n      findBoards = _useContext.findBoards,\n      setFoundBoards = _useContext.setFoundBoards;\n\n  var _useContext2 = useContext(UserContext),\n      user = _useContext2.user;\n\n  var _useContext3 = useContext(PlayContext),\n      updateGame = _useContext3.updateGame;\n\n  useEffect(function () {\n    if (!accessBoards || !accessBoards.length && !accessBoardsFound) {\n      if (user && user.id) {\n        getAccessBoards(user.id);\n      }\n    } else {\n      setAccessBoardsFound(true);\n    }\n\n    if (foundBoards.length !== pastFoundBoards.length) {\n      console.log('setting found boards popup open', foundBoards.length);\n      openFoundBoardsPopup(true);\n      setPastFoundBoards(foundBoards);\n    }\n  }, [accessBoards, foundBoards]);\n\n  var searchForBoard = function searchForBoard() {\n    findBoards(findCode);\n    setFindCode('');\n  };\n\n  var closeSearchFoundOptionsPopup = function closeSearchFoundOptionsPopup() {\n    openFoundBoardsPopup(false);\n    setPastFoundBoards([]);\n  };\n\n  var clearOutCurrGame = function clearOutCurrGame() {\n    updateGame({});\n  };\n\n  var generateBoardCards = function generateBoardCards(boards) {\n    if (boards[0] === 'none') {\n      return __jsx(\"div\", {\n        style: {\n          marginTop: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"We couldn't find any games you've already played, try searching for one using it's access code!\");\n    }\n\n    return boards.map(function (board, index) {\n      return __jsx(Link, {\n        href: \"playGame/[findID]/[userID]\",\n        as: \"playGame/\".concat(board.id, \"/\").concat(user.id),\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, __jsx(\"button\", {\n        key: \"board-\".concat(board.id),\n        style: MASTER.card,\n        onClick: function onClick() {\n          return clearOutCurrGame();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: MASTER.cardInteriordiv,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          fontSize: 18,\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, board.title), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Created by \", board.orgName), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Played by \", board.team ? board.organizerName : 'you!'))));\n    });\n  };\n\n  var generateSearchFoundOptions = function generateSearchFoundOptions() {\n    if (!foundBoards.length) {\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"No games found, double check your code or make sure you don't already already have a game on that board!\");\n    }\n\n    return foundBoards.map(function (board, index) {\n      return __jsx(Link, {\n        href: \"playGame/[findID]/[userID]\",\n        as: \"playGame/\".concat(board.id, \"/\").concat(user.id),\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        onClick: function onClick() {\n          openFoundBoardsPopup(false);\n          setPastFoundBoards([]);\n          setFoundBoards([]);\n        },\n        key: \"found-board-\".concat(index),\n        style: styles.foundOption,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          fontSize: 20,\n          color: COLORS.primary\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, board.title), __jsx(\"div\", {\n        style: {\n          display: 'flex'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, board.org, \" - \"), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, board.team))));\n    });\n  };\n\n  if (!accessBoardsFound) {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"JOIN BOARD LOADING\"));\n  }\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    style: MASTER.pageTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"FIND GAME\"), __jsx(Paper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    style: {\n      padding: '1% 3%',\n      minHeight: 150\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    style: _objectSpread({}, MASTER.wideRoundInput, {\n      maxWidth: 300\n    }),\n    value: findCode,\n    onChange: function onChange(e) {\n      return setFindCode(e.target.value);\n    },\n    placeholder: 'Type code here',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }), __jsx(\"button\", {\n    style: _objectSpread({}, MASTER.wideRoundBtn, {\n      width: 100\n    }),\n    onClick: function onClick() {\n      return searchForBoard();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    style: MASTER.wideRoundBtnText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, \"SEARCH\"))), accessBoards.length && generateBoardCards(accessBoards)))), __jsx(Dialog, {\n    open: foundBoardsPopup,\n    onBackdropClick: function onBackdropClick() {\n      return closeSearchFoundOptionsPopup();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, __jsx(DialogTitle, {\n    onClose: function onClose() {\n      return closeSearchFoundOptionsPopup();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, \"GAMES WE FOUND...\"), __jsx(\"div\", {\n    style: {\n      padding: 20,\n      minWidth: 300\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, generateSearchFoundOptions())));\n};\n\nvar styles = {\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center'\n  },\n  foundOption: {\n    borderBottom: \"1px solid \".concat(COLORS.primary),\n    borderTop: \"1px solid \".concat(COLORS.primary),\n    padding: 10,\n    cursor: 'pointer'\n  }\n};\nexport default BoardFind;","map":{"version":3,"sources":["/Users/spencerford/Documents/DEVyall/PersonalProjects/CorporateBingoWeb/pages/joinGame.js"],"names":["React","useState","useEffect","useContext","useRouter","MASTER","COLORS","Link","Layout","withStyles","Dialog","MuiDialogTitle","Typography","IconButton","CloseIcon","Paper","JoinGameContext","UserContext","PlayContext","materialStyles","theme","root","margin","padding","spacing","fontSize","color","primary","closeButton","position","right","top","palette","grey","DialogTitle","props","children","classes","onClose","BoardFind","router","findCode","setFindCode","accessBoardsFound","setAccessBoardsFound","foundBoardsPopup","openFoundBoardsPopup","pastFoundBoards","setPastFoundBoards","accessBoards","getAccessBoards","foundBoards","findBoards","setFoundBoards","user","updateGame","length","id","console","log","searchForBoard","closeSearchFoundOptionsPopup","clearOutCurrGame","generateBoardCards","boards","marginTop","map","board","index","card","cardInteriordiv","fontWeight","title","orgName","team","organizerName","generateSearchFoundOptions","styles","foundOption","display","org","container","pageTitle","minHeight","wideRoundInput","maxWidth","e","target","value","wideRoundBtn","width","wideRoundBtnText","minWidth","flex","backgroundColor","alignItems","borderBottom","borderTop","cursor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useRouter } from 'next/router';\n\n// Style imports\nimport { MASTER, COLORS } from '../styles/masterStyles';\n\n// component imports\nimport Link from 'next/link';\nimport Layout from '../components/Layout';\n\n// material ui\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Paper from '@material-ui/core/Paper';\n\n// context imports\nimport { JoinGameContext } from '../contexts/joinGameContext';\nimport { UserContext } from '../contexts/userContext';\nimport { PlayContext } from '../contexts/playContext';\n\nconst materialStyles = theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n    fontSize: 32,\n    color: COLORS.primary,\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(materialStyles)(props => {\n  const { children, classes, onClose } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root}>\n      <Typography variant=\"h6\">{children}</Typography>\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n          <CloseIcon />\n        </IconButton>\n    </MuiDialogTitle>\n  );\n});\n\nconst BoardFind = (props) => {\n\n  const router = useRouter()\n\n  const [findCode, setFindCode] = useState('');\n  const [accessBoardsFound, setAccessBoardsFound] = useState(false);\n  const [foundBoardsPopup, openFoundBoardsPopup] = useState(false);\n  const [pastFoundBoards, setPastFoundBoards] = useState([]);\n\n  const { accessBoards, getAccessBoards, foundBoards, findBoards, setFoundBoards } = useContext(JoinGameContext);\n  const { user } = useContext(UserContext);\n  const { updateGame } = useContext(PlayContext);\n\n  useEffect(() => {\n    if(!accessBoards || !accessBoards.length && !accessBoardsFound){\n        if(user && user.id){\n          getAccessBoards(user.id);\n        }\n    } else {\n        setAccessBoardsFound(true);\n    }\n    if(foundBoards.length !== pastFoundBoards.length){\n      console.log('setting found boards popup open', foundBoards.length)\n      openFoundBoardsPopup(true);\n      setPastFoundBoards(foundBoards);\n    }\n  }, [accessBoards, foundBoards])\n\n  const searchForBoard = () => {\n    findBoards(findCode);\n    setFindCode('');\n  }\n\n  const closeSearchFoundOptionsPopup = () => {\n    openFoundBoardsPopup(false)\n    setPastFoundBoards([]);\n  }\n\n  const clearOutCurrGame = () => {\n    updateGame({});\n  }\n\n  const generateBoardCards = boards => {\n    if(boards[0] === 'none'){\n      return <div style={{ marginTop: 15 }}>We couldn't find any games you've already played, try searching for one using it's access code!</div>;\n    }\n    return boards.map((board, index) => {\n      return (\n        <Link href={`playGame/[findID]/[userID]`} as={`playGame/${board.id}/${user.id}`} key={index}>\n            <button key={`board-${board.id}`} style={MASTER.card} onClick={() => clearOutCurrGame()}>\n            <div style={MASTER.cardInteriordiv}>\n                <div style={{fontSize: 18, fontWeight: 'bold'}}>{board.title}</div>\n                <div>Created by {board.orgName}</div>\n                <div>Played by {board.team ? board.organizerName : 'you!'}</div>\n            </div>\n            </button>\n        </Link>\n      )\n    })\n  }\n\n  const generateSearchFoundOptions = () => {\n    if(!foundBoards.length){\n      return <div>No games found, double check your code or make sure you don't already already have a game on that board!</div>\n    }\n    return foundBoards.map((board, index) => {\n      return (\n        <Link \n          href={`playGame/[findID]/[userID]`} \n          as={`playGame/${board.id}/${user.id}`} \n          key={index}\n        >\n          <div \n            onClick={() => {\n              openFoundBoardsPopup(false); \n              setPastFoundBoards([]);\n              setFoundBoards([]);\n            }} \n            key={`found-board-${index}`} \n            style={ styles.foundOption }\n          >\n            <div style={{ fontSize: 20, color: COLORS.primary}}>{board.title}</div>\n            <div style={{ display: 'flex' }}>\n              <div>{board.org} - </div>\n              <div>{board.team}</div>\n            </div>\n          </div>\n        </Link>\n      )\n    })\n  }\n\n  if(!accessBoardsFound){\n    return (<Layout><div>JOIN BOARD LOADING</div></Layout>);\n  }\n\n  return (\n      <Layout>\n        <div style={styles.container}>\n            <div style={MASTER.pageTitle}>FIND GAME</div>\n            <Paper>\n              <div style={{ padding: '1% 3%', minHeight: 150 }}>\n              <div style={{ display: 'flex' }}>\n                  <input \n                      style={{ ...MASTER.wideRoundInput, maxWidth: 300 }} \n                      value={findCode} \n                      onChange={(e) => setFindCode(e.target.value)} \n                      placeholder={'Type code here'}\n                  />\n                  <button \n                      style={{ ...MASTER.wideRoundBtn, width: 100 }} \n                      onClick={() => searchForBoard()}\n                  >\n                      <div style={MASTER.wideRoundBtnText}>SEARCH</div>\n                  </button>\n              </div>\n              {accessBoards.length && generateBoardCards(accessBoards)}\n              </div>\n            </Paper>\n        </div>\n        <Dialog open={foundBoardsPopup} onBackdropClick={() => closeSearchFoundOptionsPopup()}>\n          <DialogTitle onClose={() => closeSearchFoundOptionsPopup()}>\n              GAMES WE FOUND...\n          </DialogTitle>\n            <div style={{ padding: 20, minWidth: 300 }}>\n              {generateSearchFoundOptions()}    \n            </div>\n        </Dialog>\n    </Layout>\n  );\n}\n  \nconst styles = {\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n  },\n  foundOption: {\n    borderBottom: `1px solid ${COLORS.primary}`,\n    borderTop: `1px solid ${COLORS.primary}`,\n    padding: 10,\n    cursor: 'pointer',\n  }\n};\n\nexport default BoardFind;"]},"metadata":{},"sourceType":"module"}