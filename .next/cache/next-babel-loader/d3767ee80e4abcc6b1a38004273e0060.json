{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/spencerford/Documents/DEVyall/PersonalProjects/CorporateBingoWeb/components/Play/PlayBoard.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from 'react'; // Style imports\n\nimport { MASTER, COLORS } from '../../styles/masterStyles'; // Data imports\n\nimport { boardTemplates } from '../../constants/boardSizes';\nimport { checkForRewards } from '../../funcs/boardLogic'; // context imports\n\nimport { PlayContext } from '../../contexts/playContext'; // Component imports\n\nimport TaskDetail from './SquareDetail';\nimport RewardDetail from './RewardDetail';\nimport PlayHints from './Tasks/PlayHints'; // Material ui\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst materialStyles = theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n    fontSize: 32,\n    color: COLORS.primary\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500]\n  }\n});\n\nconst DialogTitle = withStyles(materialStyles)(props => {\n  const {\n    children,\n    classes,\n    onClose\n  } = props;\n  return __jsx(MuiDialogTitle, {\n    disableTypography: true,\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, __jsx(Typography, {\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, children), __jsx(IconButton, {\n    \"aria-label\": \"close\",\n    className: classes.closeButton,\n    onClick: onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, __jsx(CloseIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  })));\n});\n\nconst PlayBoard = props => {\n  const {\n    contextGame,\n    saveGame\n  } = useContext(PlayContext);\n  const SQUARE_WIDTH = 60 / (Math.sqrt(props.board.numSquares) + 1);\n  let taskNum = 1;\n  let taskOrderNum = 0;\n\n  const getNumCompleted = squares => {\n    let numCompleted = 0;\n    squares.map(square => {\n      if (square.complete && !square.freeSquare) {\n        numCompleted++;\n      } else if (!square.completed && !square.freeSquare) {\n        return;\n      }\n    });\n    return numCompleted;\n  };\n\n  const {\n    0: board,\n    1: setBoard\n  } = useState(props.board);\n  const {\n    0: previousSquareComplete,\n    1: setPreviousSquareComplete\n  } = useState(true);\n  const {\n    0: numCompleted,\n    1: setNumCompleted\n  } = useState(getNumCompleted(board.squares));\n  const {\n    0: rewardDialogOpen,\n    1: setRewardDialogOpen\n  } = useState(false);\n  const {\n    0: reward,\n    1: setReward\n  } = useState({});\n  const {\n    0: taskDialogOpen,\n    1: setTaskDialogOpen\n  } = useState(false);\n  const {\n    0: task,\n    1: setTask\n  } = useState({});\n\n  const openRewardDetailPopup = reward => {\n    setRewardDialogOpen(true);\n    setReward(reward);\n  };\n\n  const openTaskDetailPopup = (task, previousSquareComplete) => {\n    setTaskDialogOpen(true);\n    setTask(task);\n    setPreviousSquareComplete(previousSquareComplete);\n  };\n\n  useEffect(() => {\n    setBoard(contextGame);\n    setNumCompleted(getNumCompleted(contextGame.squares));\n  }, [contextGame]);\n\n  const updateTask = task => {\n    const gameToSave = _objectSpread({}, contextGame, {\n      squares: contextGame.squares.map(square => {\n        if (square.id === task.id) {\n          return task;\n        }\n\n        return square;\n      })\n    }); // run saveGame with the result of checkForRewards\n\n\n    let rewardsChanged = false;\n    const earnedRewards = checkForRewards(gameToSave);\n    console.log({\n      earnedRewards\n    });\n    const rewards = contextGame.rewards.map(reward => {\n      if (earnedRewards.includes(reward.position)) {\n        if (!reward.earned) {\n          console.log('setting reward earned', reward.position);\n          rewardsChanged = true;\n        }\n\n        return _objectSpread({}, reward, {\n          earned: true\n        });\n      }\n\n      return _objectSpread({}, reward, {\n        earned: false\n      });\n    });\n\n    if (rewardsChanged) {\n      console.log('saving reward change');\n\n      const gameWithRewards = _objectSpread({}, gameToSave, {\n        rewards\n      });\n\n      saveGame(gameWithRewards);\n    } else {\n      saveGame(gameToSave);\n    }\n  };\n\n  const generateRow = row => {\n    const SOMETHING_RIGHT = contextGame.rewards.filter(reward => (reward.position.includes('row') || reward.position.includes('diagonalUpRight')) && reward.title)[0];\n    return row.map((square, index) => {\n      switch (square.type) {\n        case 'reward':\n          const reward = contextGame.rewards.length ? contextGame.rewards.filter(reward => reward.position === square.id && reward.title)[0] : null;\n\n          if (!reward) {\n            return __jsx(\"div\", {\n              key: `empty${index}`,\n              style: {\n                width: !SOMETHING_RIGHT && (square.id.includes('row') || square.id.includes('diagonalUpRight')) ? 1 : `${SQUARE_WIDTH}vw`,\n                height: !SOMETHING_RIGHT && (square.id.includes('row') || square.id.includes('diagonalUpRight')) ? 1 : `${SQUARE_WIDTH}vw`,\n                // paddingTop: `${SQUARE_WIDTH * .72}%`,\n                // position: 'relative',\n                maxWidth: 110,\n                maxHeight: 110,\n                minWidth: !SOMETHING_RIGHT && (square.id.includes('row') || square.id.includes('diagonalUpRight')) ? 1 : 100 // minHeight: 100,\n\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 148\n              },\n              __self: this\n            });\n          }\n\n          return __jsx(\"button\", {\n            key: `reward${index}`,\n            style: {\n              width: `${SQUARE_WIDTH}vw`,\n              height: `${SQUARE_WIDTH}vw`,\n              // paddingTop: `${SQUARE_WIDTH * .72}%`,\n              position: 'relative',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              backgroundColor: 'transparent',\n              border: 'none',\n              outline: 'none',\n              cursor: 'pointer',\n              maxWidth: 110,\n              maxHeight: 110 // minWidth: 100,\n              // minHeight: 100,\n\n            },\n            onClick: () => openRewardDetailPopup(reward),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 162\n            },\n            __self: this\n          }, __jsx(\"img\", {\n            style: _objectSpread({}, MASTER.smallRewardIcon, {\n              width: '70%',\n              height: '70%'\n            }),\n            src: reward.earned ? '../../static/gift_green.png' : '../../static/gift_gray.png',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 183\n            },\n            __self: this\n          }));\n\n        case 'task':\n          if (!taskNum) {\n            return;\n          }\n\n          const task = contextGame.squares[taskNum - 1];\n\n          if (taskNum === contextGame.numSquares) {\n            taskNum = 0;\n          } else {\n            taskNum++;\n          }\n\n          if (task.freeSquare) {\n            return __jsx(\"button\", {\n              key: `free${index}`,\n              style: {\n                width: `${SQUARE_WIDTH}vw`,\n                height: `${SQUARE_WIDTH}vw`,\n                // paddingTop: `${SQUARE_WIDTH * .72}%`,\n                position: 'relative',\n                backgroundColor: `#${contextGame.completeColor}`,\n                borderWidth: 1,\n                borderColor: 'black',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                outline: 'none',\n                maxWidth: 110,\n                maxHeight: 110\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 205\n              },\n              __self: this\n            }, __jsx(\"img\", {\n              style: MASTER.freeSquareIcon,\n              src: '../../static/circle_check.png',\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 222\n              },\n              __self: this\n            }));\n          } else {\n            taskOrderNum++;\n            task.taskOrderNum = taskOrderNum;\n            return __jsx(\"button\", {\n              key: `task${index}`,\n              style: {\n                width: `${SQUARE_WIDTH}vw`,\n                height: `${SQUARE_WIDTH}vw`,\n                // paddingTop: `${SQUARE_WIDTH * .72}%`,\n                position: 'relative',\n                backgroundColor: task.complete ? `#${contextGame.completeColor}` : `#${contextGame.incompleteColor}`,\n                borderWidth: 1,\n                borderColor: 'black',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                outline: 'none',\n                cursor: 'pointer',\n                maxWidth: 110,\n                maxHeight: 110\n              },\n              onClick: () => openTaskDetailPopup(task, task.taskOrderNum - 1 !== numCompleted),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 229\n              },\n              __self: this\n            }, contextGame.mustBeDoneInOrder && __jsx(\"div\", {\n              style: _objectSpread({}, MASTER.squareOrderNum, {\n                color: task.complete ? `#${contextGame.completeColor}` : `#${contextGame.incompleteColor}`\n              }),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 252\n              },\n              __self: this\n            }, taskOrderNum), __jsx(\"div\", {\n              style: _objectSpread({}, MASTER.squareText, {\n                maxHeight: 100\n              }),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 253\n              },\n              __self: this\n            }, task.squareText));\n          }\n\n        case 'empty':\n          return __jsx(\"div\", {\n            key: `empty${index}`,\n            style: {\n              width: `${SQUARE_WIDTH}vw`,\n              height: `${SQUARE_WIDTH}vw`,\n              // paddingTop: `${SQUARE_WIDTH * .72}%`,\n              position: 'relative',\n              maxWidth: 110,\n              maxHeight: 110\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 259\n            },\n            __self: this\n          });\n\n        default:\n          return __jsx(\"div\", {\n            key: `empty${index}`,\n            style: {\n              width: `${SQUARE_WIDTH}vw`,\n              height: `${SQUARE_WIDTH}vw`,\n              // paddingTop: `${SQUARE_WIDTH * .72}%`,\n              position: 'relative',\n              maxWidth: 110,\n              maxHeight: 110\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 272\n            },\n            __self: this\n          });\n      }\n    });\n  };\n\n  const generateBoard = () => {\n    const template = boardTemplates[props.size];\n    return template.spaces.map((row, index) => {\n      return __jsx(\"div\", {\n        key: `row${index + 1}`,\n        style: {\n          display: 'flex',\n          flexDirection: 'row',\n          width: '100%',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, generateRow(row));\n    });\n  };\n\n  if (props.board) {\n    return __jsx(\"div\", {\n      style: styles.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, generateBoard(), __jsx(Dialog, {\n      open: rewardDialogOpen,\n      onBackdropClick: () => setRewardDialogOpen(false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, __jsx(DialogTitle, {\n      onClose: () => setRewardDialogOpen(false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"REWARD\"), __jsx(RewardDetail, {\n      reward: reward,\n      mustRedeem: contextGame.redeemRewards,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    })), __jsx(Dialog, {\n      open: taskDialogOpen,\n      onBackdropClick: () => setTaskDialogOpen(false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, __jsx(DialogTitle, {\n      onClose: () => setTaskDialogOpen(false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, \"TASK \", task.hints && task.hints.length ? __jsx(PlayHints, {\n      hints: task.hints,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }) : null)), __jsx(TaskDetail, {\n      task: task,\n      updateTask: updateTask,\n      previousSquareComplete: previousSquareComplete,\n      mustBeDoneInOrder: props.board.mustBeDoneInOrder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    })));\n  } else {\n    return null;\n  }\n};\n\nconst styles = {\n  container: {\n    flex: 1,\n    width: '100%',\n    backgroundColor: '#fff'\n  }\n};\nexport default PlayBoard;","map":{"version":3,"sources":["/Users/spencerford/Documents/DEVyall/PersonalProjects/CorporateBingoWeb/components/Play/PlayBoard.js"],"names":["React","useState","useEffect","useContext","MASTER","COLORS","boardTemplates","checkForRewards","PlayContext","TaskDetail","RewardDetail","PlayHints","withStyles","Dialog","MuiDialogActions","MuiDialogTitle","Typography","IconButton","CloseIcon","materialStyles","theme","root","margin","padding","spacing","fontSize","color","primary","closeButton","position","right","top","palette","grey","DialogTitle","props","children","classes","onClose","PlayBoard","contextGame","saveGame","SQUARE_WIDTH","Math","sqrt","board","numSquares","taskNum","taskOrderNum","getNumCompleted","squares","numCompleted","map","square","complete","freeSquare","completed","setBoard","previousSquareComplete","setPreviousSquareComplete","setNumCompleted","rewardDialogOpen","setRewardDialogOpen","reward","setReward","taskDialogOpen","setTaskDialogOpen","task","setTask","openRewardDetailPopup","openTaskDetailPopup","updateTask","gameToSave","id","rewardsChanged","earnedRewards","console","log","rewards","includes","earned","gameWithRewards","generateRow","row","SOMETHING_RIGHT","filter","title","index","type","length","width","height","maxWidth","maxHeight","minWidth","display","alignItems","justifyContent","backgroundColor","border","outline","cursor","smallRewardIcon","completeColor","borderWidth","borderColor","freeSquareIcon","incompleteColor","mustBeDoneInOrder","squareOrderNum","squareText","generateBoard","template","size","spaces","flexDirection","styles","container","redeemRewards","hints","flex"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\n\n\n// Style imports\nimport { MASTER, COLORS } from '../../styles/masterStyles';\n\n// Data imports\nimport { boardTemplates } from '../../constants/boardSizes';\nimport { checkForRewards } from '../../funcs/boardLogic';\n\n// context imports\nimport { PlayContext } from '../../contexts/playContext';\n\n// Component imports\nimport TaskDetail from './SquareDetail';\nimport RewardDetail from './RewardDetail';\nimport PlayHints from './Tasks/PlayHints';\n\n// Material ui\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst materialStyles = theme => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n    fontSize: 32,\n    color: COLORS.primary,\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(materialStyles)(props => {\n  const { children, classes, onClose } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root}>\n      <Typography variant=\"h6\">{children}</Typography>\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n          <CloseIcon />\n        </IconButton>\n    </MuiDialogTitle>\n  );\n});\n\nconst PlayBoard = (props) => {\n\n  const { contextGame, saveGame } = useContext(PlayContext);\n\n  const SQUARE_WIDTH = 60 / (Math.sqrt(props.board.numSquares) + 1);\n\n  let taskNum = 1;\n  let taskOrderNum = 0;\n\n  const getNumCompleted = squares => {\n    let numCompleted = 0;\n    squares.map(square => {\n      if(square.complete && !square.freeSquare){\n        numCompleted++;\n      } else if (!square.completed && !square.freeSquare){\n        return\n      }\n    })\n    return numCompleted;\n  }\n\n  const [board, setBoard] = useState(props.board);\n  const [previousSquareComplete, setPreviousSquareComplete] = useState(true);\n  const [numCompleted, setNumCompleted] = useState(getNumCompleted(board.squares))\n  const [rewardDialogOpen, setRewardDialogOpen] = useState(false);\n  const [reward, setReward] = useState({});\n  const [taskDialogOpen, setTaskDialogOpen] = useState(false);\n  const [task, setTask] = useState({});\n  \n  const openRewardDetailPopup = (reward) => {\n    setRewardDialogOpen(true);\n    setReward(reward);\n  }\n\n  const openTaskDetailPopup = (task, previousSquareComplete) => {\n    setTaskDialogOpen(true);\n    setTask(task);\n    setPreviousSquareComplete(previousSquareComplete);\n  }\n\n  useEffect(() => {\n    setBoard(contextGame);\n    setNumCompleted(getNumCompleted(contextGame.squares));\n  }, [contextGame])\n\n  const updateTask = task => {\n    const gameToSave = {\n      ...contextGame, \n      squares: contextGame.squares.map((square) => {\n          if(square.id === task.id){\n            return task;\n          }\n          return square;\n        }\n      )\n    };\n    // run saveGame with the result of checkForRewards\n    let rewardsChanged = false;\n    const earnedRewards = checkForRewards(gameToSave);\n    console.log({earnedRewards})\n    const rewards = contextGame.rewards.map(reward => {\n      if(earnedRewards.includes(reward.position)){\n        if(!reward.earned){\n          console.log('setting reward earned', reward.position)\n          \n          rewardsChanged = true;\n        }\n        return {\n          ...reward,\n          earned: true\n        }\n      } \n      return {\n        ...reward,\n        earned: false\n      }\n    });\n    if(rewardsChanged){\n      console.log('saving reward change')\n      const gameWithRewards = { ...gameToSave, rewards };\n      saveGame(gameWithRewards);   \n    } else {\n      saveGame(gameToSave);\n    }\n  }\n\n  const generateRow = row => {\n    const SOMETHING_RIGHT = contextGame.rewards.filter(reward => (reward.position.includes('row') || reward.position.includes('diagonalUpRight')) && reward.title)[0];\n    return row.map((square, index) => {\n      switch (square.type) {\n        case 'reward':\n          const reward = contextGame.rewards.length ?  contextGame.rewards.filter(reward => reward.position === square.id && reward.title)[0] : null;\n          if(!reward){\n            return <div key={`empty${index}`} \n                      style={{\n                        width: !SOMETHING_RIGHT && (square.id.includes('row') || square.id.includes('diagonalUpRight')) ? 1 : `${SQUARE_WIDTH}vw`,\n                        height: !SOMETHING_RIGHT && (square.id.includes('row') || square.id.includes('diagonalUpRight')) ? 1 : `${SQUARE_WIDTH}vw`,\n                        // paddingTop: `${SQUARE_WIDTH * .72}%`,\n                        // position: 'relative',\n                        maxWidth: 110,\n                        maxHeight: 110,\n                        minWidth: !SOMETHING_RIGHT && (square.id.includes('row') || square.id.includes('diagonalUpRight')) ? 1 : 100,\n                        // minHeight: 100,\n                      }} \n                    />;\n          }\n          return(\n              <button \n                key={`reward${index}`} \n                style={{\n                  width: `${SQUARE_WIDTH}vw`,\n                  height: `${SQUARE_WIDTH}vw`,\n                  // paddingTop: `${SQUARE_WIDTH * .72}%`,\n                  position: 'relative',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  backgroundColor: 'transparent',\n                  border: 'none',\n                  outline: 'none',\n                  cursor: 'pointer',\n                  maxWidth: 110,\n                  maxHeight: 110,\n                  // minWidth: 100,\n                  // minHeight: 100,\n                }} \n                onClick={() => openRewardDetailPopup(reward)}\n              >\n                <img \n                  style={{\n                    ...MASTER.smallRewardIcon,\n                    width: '70%',\n                    height: '70%',\n                  }} \n                  src={reward.earned ? '../../static/gift_green.png' : '../../static/gift_gray.png'} \n                />\n              </button>\n          )\n        case 'task':\n          if(!taskNum){\n            return;\n          }\n          const task = contextGame.squares[taskNum - 1];\n          if(taskNum === contextGame.numSquares){\n            taskNum = 0;\n          }else {\n            taskNum++;\n          }\n          if(task.freeSquare){\n            return (\n              <button key={`free${index}`} \n                style={{ \n                  width: `${SQUARE_WIDTH}vw`,\n                  height: `${SQUARE_WIDTH}vw`,\n                  // paddingTop: `${SQUARE_WIDTH * .72}%`,\n                  position: 'relative',\n                  backgroundColor: `#${contextGame.completeColor}`,\n                  borderWidth: 1,\n                  borderColor: 'black',\n                  display: 'flex',\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  outline: 'none',\n                  maxWidth: 110,\n                  maxHeight: 110,\n                }}\n              >\n                <img style={MASTER.freeSquareIcon} src={'../../static/circle_check.png'} />\n              </button>\n            )\n          } else {\n            taskOrderNum++;\n            task.taskOrderNum = taskOrderNum;\n            return (\n              <button \n                key={`task${index}`} \n                style={{\n                  width: `${SQUARE_WIDTH}vw`,\n                  height: `${SQUARE_WIDTH}vw`,\n                  // paddingTop: `${SQUARE_WIDTH * .72}%`,\n                  position: 'relative',\n                  backgroundColor: task.complete ? `#${contextGame.completeColor}` : `#${contextGame.incompleteColor}`,\n                  borderWidth: 1,\n                  borderColor: 'black',\n                  display: 'flex',\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  outline: 'none',\n                  cursor: 'pointer',\n                  maxWidth: 110,\n                  maxHeight: 110,\n                }}\n                onClick={() => openTaskDetailPopup(\n                  task, \n                  ((task.taskOrderNum - 1) !== numCompleted)\n                )}\n              >\n                {contextGame.mustBeDoneInOrder && <div style={{ ...MASTER.squareOrderNum, color: task.complete ? `#${contextGame.completeColor}` : `#${contextGame.incompleteColor}` }}>{taskOrderNum}</div>}\n                <div style={{ ...MASTER.squareText, maxHeight: 100 }}>{task.squareText}</div>\n              </button>\n            );\n          }\n        case 'empty':\n          return (\n            <div key={`empty${index}`} \n              style={{\n                width: `${SQUARE_WIDTH}vw`,\n                height: `${SQUARE_WIDTH}vw`,\n                // paddingTop: `${SQUARE_WIDTH * .72}%`,\n                position: 'relative',\n                maxWidth: 110,\n                maxHeight: 110,\n              }} \n            />\n          );\n        default:\n          return (\n            <div key={`empty${index}`} \n              style={{\n                width: `${SQUARE_WIDTH}vw`,\n                height: `${SQUARE_WIDTH}vw`,\n                // paddingTop: `${SQUARE_WIDTH * .72}%`,\n                position: 'relative',\n                maxWidth: 110,\n                maxHeight: 110,\n              }} \n            />\n          );\n      }\n    })\n  }\n\n  const generateBoard = () => {\n    const template = boardTemplates[props.size];\n    return template.spaces.map((row, index) => {\n      return (\n        <div \n          key={`row${index + 1}`} \n          style={{display: 'flex', flexDirection: 'row', width: '100%', justifyContent: 'center'}}\n        >\n          {generateRow(row)}\n        </div>\n      ) \n    });\n  }\n\n  if(props.board){\n    return (\n      <div style={styles.container}>\n        {generateBoard()}\n        <Dialog open={rewardDialogOpen} onBackdropClick={() => setRewardDialogOpen(false)}>\n          <DialogTitle onClose={() => setRewardDialogOpen(false)}>\n            REWARD\n          </DialogTitle>\n          <RewardDetail reward={reward} mustRedeem={contextGame.redeemRewards} />\n        </Dialog>\n        <Dialog open={taskDialogOpen} onBackdropClick={() => setTaskDialogOpen(false)}>\n           <DialogTitle onClose={() => setTaskDialogOpen(false)}>\n            <div style={{ display: 'flex', alignItems: 'center' }}>\n              TASK {task.hints && task.hints.length ? <PlayHints hints={task.hints} /> : null}\n            </div>\n          </DialogTitle>\n          <TaskDetail \n            task={task} \n            updateTask={updateTask} \n            previousSquareComplete={previousSquareComplete}\n            mustBeDoneInOrder={props.board.mustBeDoneInOrder}  \n          />\n        </Dialog>\n      </div>\n    );\n  } else {\n    return null;\n  }\n}\n  \nconst styles = {\n  container: {\n    flex: 1,\n    width: '100%',\n    backgroundColor: '#fff',\n  },\n};\n\nexport default PlayBoard;"]},"metadata":{},"sourceType":"module"}